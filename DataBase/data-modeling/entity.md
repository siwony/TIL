# 엔터티 - Entity
## 1. 엔터티의 정의
데이터 모델과 데이터 베이스에 관위자가 정의한 사항은 다음과 같다.
- 변별할 수 있는 사물 - Peter Chen (1976)
- DB 내에서 변별 가능한 객체 - C.J Date (1986)
- 정보를 저장할 수 있는 어떤 것 - James Martin (1989)
- 정보가 저장될 수 있는 사람, 장소 물건, 사건 그리고 개념 등 - Thomas Bruce (1992)

위 정의들의 공통점은...
- **명사**에 해당된다.
  > 사람, 장소, 물건, 사건, 개념 등...
- 업무상 관리가 필요한 **관심사**에 해당한다.
- 저장이 되기 위한 **어떤 것** 이다.

즉 엔터티란 **"업무에 필요하고 유용한 정보를 저장하고 관리하기 위한 집합적인 것(Thing)"** 으로 설명할 수 있다.

## 2. 엔터티의 분류

### 2-1. 유/무형에 따른 분류

#### 1. `유형 - Tangible` 엔터티
- 물리적인 형태가 있고 안정적이며 지속적으로 활용된다.
- ex. 교수, 강의실, 학생 등...

#### 2. 무형 엔터티
  1. **`개념 - Conceptual` 엔터티**
     - 물리적인 형태는 존재하지 않으나 관리해야 할 개념적 정보
     - ex. 수업, 보험상품 등...

  2. **`사건 - Event` 엔터티**
     - 업무 수행 과정에서 발생하며 비교적 발생량이 많다.
     - ex. 수강신청, 주문, 입금 등...

### 2-2. 발생시점에 따른 분류
#### 1. 기본/키엔터티 - Fundamental Entity, Key Entity
: 업무에 원래 존재하는 정보로써 다른 엔터티와 관계에 의해 생성되지 않고 독립적으로 생성되는 엔터티
- 타 엔터티의 부모의 역할을 하게된다.
- 자신의 고유 식별자를 가지게 된다.
- 사원, 부서, 고객, 상품 자재 등...

#### 2. 중심엔터티 - Main Entity
: 그 업무에 있어서 중심적인 역할을 하는 엔터티
- 기본 엔터티로부터 발생된다.
- 계약, 사고, 예금원장, 청구, 주믄, 매출 등...

#### 3. 행위엔터티 - Active Entity
- 두 개 이상의 부모엔터티로부터 발생된다.
- 자주 내용이 바뀌거나 데이터양이 증하된다.
- 주문목록, 사원변경이력 등...

### 2-3. 기타
- 스스로 생성될 수 있는지에 따라서 독립엔터티, 의존엔터티로 나뉜다.


## 3. 엔터티의 특징
### 1. 업무에서 필요하고 관리하고자 하는 정보
- `관심 영역 - Business Boundary`에 따라 달라진다.
- ex. 도서관리 시스템에 환자라는 엔터티가 존재할 일이 없다.

### 2. 식별가능
- `식별자 - Unique Identifie`r에 의해 식별 가능해야 한다.
- 유일 식별자 : 해당 엔터티 인스턴스만의 고유한 이름

두 개 이상의 엔터티를 대변하면 잘못된 설계이다.

만약 회원 엔터티에서 이름을 식별자로 만들어버리면 세상에는 중복되는 이름이 있으므로 이는 잘못된 식별자라고 할 수 있다.

### 3. 둘 이상의 인스턴스 집합
하나의 엔터티는 **두 개 이상의 인스턴스**를 포함한다.

### 4. 업무 프로세스에 의해 이용된다.
- 업무 프로세서에 의해 CRUD가 발생해야 한다.
- CRUD가 발생하지 않음 &rarr; **부적절한 엔터티 도출**, 또는 **업무 누락**

### 5. 반드시 속성을 가져야 한다.
- 주식별자만 존재하고 일반 속성은 없는 경우도 바람직하지 않다.
  > ex. PK
    - 단 `연관 엔터티 - Associative Entity`는 주 식별자 속성만 갖고 있어도 된다. 
        > 다음과 같은 관계에서 수강 Entity를 의미한다.
        <img src="img/associative-entity-ex.png">

### 6. 엔터티는 최소 한 개 이상의 관계를 가져야 한다.
이를 `고립 엔터티 - Isolated Entity`라고 하는데 고립 엔터티가 있을 경우 부적절한 엔터티 도출 및 관계 누락이 있는지 확인한다.

#### 고립 엔터티를 인정하는 경우
- 통계성 엔터티
  > 읽기 효율성 또는 집계처리를 위한 엔터티
- 코드성 엔터티
  > ex. 에러 코드 관련 테이블(단순 참조만 할 때)
- 시스템 처리용 내부 엔터티
  > ex. 트랜잭션 로그 테이블 등...


## 4. 엔터티의 명명
- 엔터티 생성 의미대로, 실제 업무에서 사용하는 용어를 사용한다.
- 약어를 사용하지 않는다.
- 단수 명사를 사용한다.
- 이름이 동일한 엔터티가 중복으로 존재할 수 없다.