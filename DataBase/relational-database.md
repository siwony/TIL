# 관계형 데이터베이스(Relational database)
## 관계형 DB?
: table로 이루어져 있고, 이 table은 key 와 value의 관계를 나타낸다
  이처럼 데이터의 종속성을 관계(relationship)로 표현하는것  
## 특징
- ### **열(column)**  
    - 각각의 열(field or attribute)은 유일한 이름을 가지고있다.
    - 자신만의 타입을 가지고 있다.
- ### **행(row)**
    - = tuple, record
    - 관계된 데이터의 묶음 의미
    - 한 테이블의 모든 행은 같은 수의 열을 가지고 있다.
- ### **값(value)**
    - 테이블은 각각의 행(row) 열(column)에 대응하는 값(value)를 가지고 있다.
    - 열(column)의 타입에 맞는 값이여야 한다.
- ### **Key**  
    : table 에서 행의 식별자로 이용되는 key or 기본 키(primary key)  
    즉 table에 저장된 record를 고유하게 식별하는 후보 키(candidate key) 중에 DB 설계자가 지정한 속성을 의미
- ### **관계**
    1. 일대일 (one-to-one) 관계
    2. 일대다 (one-to-many) 관계
    3. 다대다 (many-to-many) 관계
- ### **스키마(schema)**  
    = 테이블을 디자인하기 위한 청사진
    >ex) Reservation(ID, Name, Date, RoomNum)  
    ![diagram](../img/img_mysql_diagram.png)
## key
### **후보키(Candidate Key)**
1. 릴레이션을 구성하는 속성들 중에 튜플을 유일하게 식별하기 위해 사용하는 속성들의 부분집합. 즉 **기본키로 사용할 수 있는 속성들을 말한다.**
2. 하나의 릴레이션내에서는 중복된 튜플들이 있을 수 없으므로 모든 릴레이션에는 **반드시 하나 이상의 후보키가 존재한다.**
3. 릴레이션에 있는 모든 튜플에 대해서 **유일성**과 **최소성**을 만족시켜야 함.
> 유일성: 하나의 key값으로 하나의 튜플만을 유일하게 식별할 수 있어야한다.  
  최소성: 모든 레코드들을 유일하게 식별하는데 꼭 필요한 속성만으로 구성되어 있어야 한다.
### **기본키(Primary Key)**
1. 후보키 중에서 선택한 **주키(Main Key)**
2. 한 릴레이션에서 **특정 튜플을 유일하게 구별할 수 있는** 속성이다.
3. **Null값을 가질 수 없다**.
4. 동일한 값이 **중복되어 저장될 수 없다.**
### **대체키(Alternate Key)**
: 후보키가 둘 이상일 떄 기본키를 제외한 나머지 후보키들 = 보조키
### **외래키(Foregin Key)**
1. 관계를 맻고 있는 릴레이션 R1, R2에서 릴레이션 R1이 참조하고 있는 릴레이션 R2의 기본키와 같은 R1 릴레이션의 속성을 외래키라고 한다.
2. 외래키는 참조되는 릴레이션의 기본키와 대응되어 릴레이션 간에 참조관계를 표현하는데 중요한 도구 이다.
## 트랜잭션(transaction)?
> DBMS에서 하나의 작업의 단위   
트랜잭션의 기능을 제대로 수행하기 위해 네가지 특성을 만족해야한다(ACID 특성)  
**트랜잭션의 제기능 하지 못하면?**  
예를 들어서 은행에서 서로다른 ATM기기에서 2명이 동시에 A계좌(1000원 들어있음)의 1000원을 인출했다고 하면 거의 동시에 인출을 시도했을 때 트랜잭션이 제대로 기능하지 않아 DB상으로 돈은 1000원 밖에 빠져나가지 않았지만 실제로는 2000원이 빠져나가게 된다. 0.000001초라도 빠른 사람의 요청을 수행하고 나머지 사람에게는 지급부족으로 요청을 거절해야한다. 이러한기능을 제대로 수행하기 위한것이 **트랜잭션 의 ACID**
### ACID특성
- **원자성(Atomicity)**  
    : 트랜잭션이 수행하는 연산들을 모두 정상적으로 처리 or 모두 처리하지 않아야 한다는 all-or-nothing 방식을 의미
- **일관성(Consistency)**  
    : 트랜잭션이 성공적으로 수행된 이후에도 **DB의 데이터는 일관된 상태를 유지해야한다.**
- **격리성(Isolation)**  
    : 하나의 트랜잭션이 완료될 때까지 다른 트랜잭션이 간섭하지 못하도록 하여 **각각의 트랜잭션이 독립적으로 수행되여야 한다.**
- **지속성(Durability)**
    : 트랜잭션이 성공적으로 완료된 이후 DB에 **데이터들이 영구적으로 보전되어야 한다.**